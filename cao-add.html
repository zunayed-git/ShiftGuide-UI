
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Shift Guide App">

        <link rel="preconnect" href="https://fonts.gstatic.com">

        <title>Shift Guide App</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
        <link href="css/app.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
        
        <link href="./css/dashboard.css" rel="stylesheet" />
    </head>

    <body>
        <div class="wrapper">
            <nav id="sidebar" class="sidebar js-sidebar">
                <div class="sidebar-content js-simplebar">
                    <a class="sidebar-brand" href="#!">
                        <span class="align-middle">
                            <img id="sgapp-logo-img" src="./img/logo.png" alt="Shift Guide Logo" />
                        </span>
                    </a>

                    <ul class="sidebar-nav">
                        <li class="sidebar-header">
                            Menu
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./home.html">
                                <i class="align-middle" data-feather="home"></i> <span class="align-middle">Home</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./organizations.html">
                                <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">Organizations</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./staffs.html">
                                <i class="align-middle" data-feather="users"></i> <span class="align-middle">Staffs</span>
                            </a>
                        </li>
                        
                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./attendance.html">
                                <i class="align-middle" data-feather="check-circle"></i> <span class="align-middle">Attendance</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./schedules.html">
                                <i class="align-middle" data-feather="calendar"></i> <span class="align-middle">Schedules</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./availability.html">
                                <i class="align-middle" data-feather="user-check"></i> <span class="align-middle">Availability</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./swap-requests.html">
                                <i class="align-middle" data-feather="refresh-ccw"></i> <span class="align-middle">Swap Requests</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./leave-requests.html">
                                <i class="align-middle" data-feather="user-x"></i> <span class="align-middle">Leave Requests</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./job-level.html">
                                <i class="align-middle" data-feather="layers"></i> <span class="align-middle">Job Level</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./job-positions.html">
                                <i class="align-middle" data-feather="bar-chart"></i> <span class="align-middle">Job Positions</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./holiday.html">
                                <i class="align-middle" data-feather="coffee"></i> <span class="align-middle">Holiday</span>
                            </a>
                        </li>

                        <li class="sidebar-item active">
                            <a class="sidebar-link" href="./cao.html">
                                <i class="align-middle" data-feather="sliders"></i> <span class="align-middle">CAO</span>
                            </a>
                        </li>


                        <li class="sidebar-header">
                            User
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="./index.php">
                                <i class="align-middle" data-feather="log-out"></i> <span class="align-middle">Logout</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="main">
                <nav class="navbar navbar-expand navbar-light navbar-bg">
                    <a class="sidebar-toggle js-sidebar-toggle">
                        <i class="hamburger align-self-center"></i>
                    </a>

                    <div id="sgapp-page-header">
                        <header>
                            <h1 class="poppins-medium">
                                Add New
                            </h1>
                        </header>
                        <div>
                            <p>
                                Let's check updates
                            </p>
                        </div>
                    </div>

                    <div class="navbar-collapse collapse">
                        <ul class="navbar-nav navbar-align">
                            <li class="nav-item">
                                <a id="sgapp-theme-mode-button" class="nav-icon" href="#">
                                    <div class="position-relative">
                                        <i class="align-middle" data-feather="moon"></i>
                                    </div>
                                </a>
                            </li>
                            <!-- <li class="nav-item dropdown">
                                <a class="nav-icon dropdown-toggle" href="#" id="alertsDropdown" data-bs-toggle="dropdown">
                                    <div class="position-relative">
                                        <i class="align-middle" data-feather="bell"></i>
                                        <span class="indicator">4</span>
                                    </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end py-0" aria-labelledby="alertsDropdown">
                                    <div class="dropdown-menu-header">
                                        4 New Notifications
                                    </div>
                                    <div class="list-group">
                                        <a href="#" class="list-group-item">
                                            <div class="row g-0 align-items-center">
                                                <div class="col-2">
                                                    <i class="text-danger" data-feather="alert-circle"></i>
                                                </div>
                                                <div class="col-10">
                                                    <div class="text-dark">Update completed</div>
                                                    <div class="text-muted small mt-1">Restart server 12 to complete the update.</div>
                                                    <div class="text-muted small mt-1">30m ago</div>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <div class="row g-0 align-items-center">
                                                <div class="col-2">
                                                    <i class="text-warning" data-feather="bell"></i>
                                                </div>
                                                <div class="col-10">
                                                    <div class="text-dark">Lorem ipsum</div>
                                                    <div class="text-muted small mt-1">Aliquam ex eros, imperdiet vulputate hendrerit et.</div>
                                                    <div class="text-muted small mt-1">2h ago</div>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <div class="row g-0 align-items-center">
                                                <div class="col-2">
                                                    <i class="text-primary" data-feather="home"></i>
                                                </div>
                                                <div class="col-10">
                                                    <div class="text-dark">Login from 192.186.1.8</div>
                                                    <div class="text-muted small mt-1">5h ago</div>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <div class="row g-0 align-items-center">
                                                <div class="col-2">
                                                    <i class="text-success" data-feather="user-plus"></i>
                                                </div>
                                                <div class="col-10">
                                                    <div class="text-dark">New connection</div>
                                                    <div class="text-muted small mt-1">Christina accepted your request.</div>
                                                    <div class="text-muted small mt-1">14h ago</div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="dropdown-menu-footer">
                                        <a href="#" class="text-muted">Show all notifications</a>
                                    </div>
                                </div>
                            </li> -->

                            <li class="nav-item">
                                <input id="main-search" type="search" class="form-control mt-1 mx-1" placeholder="Search">
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
                                    <i class="align-middle" data-feather="settings"></i>
                                </a>

                                <a class="nav-link dropdown-toggle d-none d-sm-inline-block mx-2" href="#" data-bs-toggle="dropdown">
                                    <img src="img/avatars/avatar-5.jpg" class="avatar img-fluid rounded-circle me-1" alt="Sadia Mim" />
                                    <span class="text-dark">Sadia Mim</span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item" href="pages-profile.html">
                                        <i class="align-middle me-1" data-feather="user"></i> Profile
                                    </a>

                                    <div class="dropdown-divider"></div>

                                    <a class="dropdown-item" href="./settings.html">
                                        <i class="align-middle me-1" data-feather="settings"></i> Settings
                                    </a>

                                    <a class="dropdown-item" href="./faq.html">
                                        <i class="align-middle me-1" data-feather="help-circle"></i> FAQ
                                    </a>

                                    <a class="dropdown-item" href="./support.html">
                                        <i class="align-middle me-1" data-feather="life-buoy"></i> Support
                                    </a>

                                    <a class="dropdown-item" href="#">
                                        <i class="align-middle me-1" data-feather="info"></i> About
                                    </a>

                                    <div class="dropdown-divider"></div>

                                    <a class="dropdown-item" href="./index.html">
                                        <i class="align-middle me-1" data-feather="log-out"></i> Sign Out
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>

                <main id="sgapp-main" class="content">
                    <div class="container-fluid p-0">

                        <!--<h1 class="h3 mb-3"></h1>-->

                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            CAO Basic Information
                                        </h5>
                                    </div>
                                    <div class="card-body">

                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="titleInput" class="form-label">CAO Title</label>
                                                        <input type="text" class="form-control" id="titleInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="hourlyRateInput" class="form-label">Hourly Rate (As €)</label>
                                                        <input type="number" min="0" class="form-control" id="hourlyRateInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="regularDutyTimeInput" class="form-label">Regular Duty Time</label>
                                                        <input type="number" min="0" class="form-control" id="regularDutyTimeInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="row">
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="overtimeSurchargeRateAsPercentInput" class="form-label">Overtime Surcharge Rate (As % Percent)</label>
                                                        <input type="number" min="0" class="form-control" id="overtimeSurchargeRateAsPercentInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="maxOvertimeHourWeeklyInput" class="form-label">Maximum Overtime Hour (Weekly)</label>
                                                        <input type="number" min="0" class="form-control" id="maxOvertimeHourWeeklyInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="maxOvertimeDayWeeklyInput" class="form-label">Maximum Overtime Day (Weekly)</label>
                                                        <input type="number" min="0" class="form-control" id="maxOvertimeDayWeeklyInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="row">
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="jobPositionSelect" class="form-label">Job Position</label>
                                                        <select id="jobPositionSelect" class="sgapp-select2 form-select sgapp-select2-full" name="state" data-bs-toggle="tooltip" title="Write a description here">
                                                            <option value="AL">Alabama</option>
                                                            <option value="WY">Wyoming</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="holidaySelect" class="form-label">Holiday</label>
                                                        <select id="holidaySelect" class="sgapp-select2 form-select sgapp-select2-full" name="state" data-bs-toggle="tooltip" title="Write a description here">
                                                            <option value="AL">Alabama</option>
                                                            <option value="WY">Wyoming</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-sm-12 col-md-4">    
                                                    <div class="mb-3">
                                                        <label for="holidayRateInput" class="form-label">Holiday Rate (as % Percent)</label>
                                                        <input type="number" min="0" class="form-control" id="holidayRateInput" data-bs-toggle="tooltip" title="Write a description here">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            CAO Surcharges Information
                                        </h5>
                                    </div>
                                    <div class="card-body">

                                        <div class="container-fluid">
                                            <div class="row mb-3">
                                                <div class="col-12">
                                                    
                                                    <button id="add-surcharge-button" class="btn btn-success">
                                                        <i class="align-middle" data-feather="plus"></i>
                                                        Add
                                                    </button>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div id="surcharge-info-rows-content">
                                                <!-- Template -->
                                                <!--
                                                <div id="sgapp-surcharge-info-row" class="row sgapp-surcharge-info-row">
                                                    <div class="col-sm-12 col-md-2">    
                                                        <div class="mb-3">
                                                            <label for="caoSurchargeInfoTitleInput" class="form-label">Title</label>
                                                            <input type="text" class="form-control" id="caoSurchargeInfoTitleInput">
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-2">    
                                                        <div class="mb-3">
                                                            <label for="caoSurchargeInfoStartInput" class="form-label">Start Time</label>
                                                            <div class="sgapp-timepicker-input-wrapper">
                                                                <input type="text" class="form-control timePicker" id="caoSurchargeInfoStartInput">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-2">    
                                                        <div class="mb-3">
                                                            <label for="caoSurchargeInfoEndTimeInput" class="form-label">End Time</label>
                                                            <div class="sgapp-timepicker-input-wrapper">
                                                                <input type="text" class="form-control timePicker" id="caoSurchargeInfoEndTimeInput">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-2">    
                                                        <div class="mb-3">
                                                            <label for="caoSurchargeInfoHourlyRateInput" class="form-label">Hourly Rate (As €)</label>
                                                            <input type="number" min="0" class="form-control" id="caoSurchargeInfoHourlyRateInput">
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-2">    
                                                        <div class="mb-3">
                                                            <label for="caoSurchargeInfoWeekdaySelect" class="form-label">Weekday</label>
                                                            <select id="caoSurchargeInfoWeekdaySelect" name="caoSurchargeInfoWeekdaySelect" class="sgapp-select2 form-select sgapp-select2-full">
                                                                <option value="-1" selected="">Select One...</option>
                                                                <option value="sat">Saturday</option>
                                                                <option value="sun">Sunday</option>
                                                                <option value="mon">Monday</option>
                                                                <option value="tue">Tuesday</option>
                                                                <option value="wed">Wednesday</option>
                                                                <option value="thr">Thursday</option>
                                                                <option value="fri">Friday</option>
                                                            </select>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-2">
                                                        <div class="mb-3">
                                                            <label class="form-label"></label>
                                                            <button id="surchargeDeleteRowButton" class="surchargeDeleteRowButton btn btn-danger sgapp-full-width" data-parent-row="sgapp-surcharge-info-row">
                                                                <i class="bi bi-x-lg"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                -->
                                                
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-12 sgapp-center">
                                        <button class="btn btn-info">
                                            <i class="align-middle" data-feather="save"></i>
                                            Save
                                        </button>
                                        
                                        <button class="btn btn-light">
                                            <i class="align-middle" data-feather="refresh-ccw"></i>
                                            Reset
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </main>

                <footer class="footer">
                    <div class="container-fluid">
                        <div class="row text-muted">
                            <div class="col-4 text-start">
                                <p class="mb-0">
                                    <a class="text-muted" href="#!" target="_blank"><strong>Shift Guide</strong></a> - <a class="text-muted" href="#!" target="_blank"><strong>App</strong></a>								&copy;
                                </p>
                            </div>
                            <div class="col-8 text-end">
                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <a class="text-muted" href="./toc.html" target="_blank">Terms & Condition</a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a class="text-muted" href="#!" target="_blank">Privacy</a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a class="text-muted" href="#!" target="_blank">Help</a>
                                    </li>
                                    <li class="list-inline-item">
                                        <a class="text-muted" href="#!" target="_blank">English</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>

        <script src="js/app.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
        <script src="./js/TimePick/time-pick.min.js"></script>
        <script type="text/javascript" src="./js/app-theme.js"></script>
        
        <script type="text/javascript">
            // Select2
            $(document).ready(function() {
                $('.sgapp-select2').select2({
                    theme: 'bootstrap-5'
                });
            });
            
            // Time Picker
            function refreshTimePickers()
            {
                let timepickers = new TimePick('.timePicker');
            
                let listOfTimePickers = document.querySelectorAll(".timePicker");

                if ((listOfTimePickers !== null) && (listOfTimePickers.length > 0))
                {
                    listOfTimePickers.forEach((timeInput) => {
                        initializeTimePickerInputFilter(timeInput);
                    });
                }
            }
            
            function initializeTimePickerInputFilter(timeInput)
            {
                timeInput.addEventListener("change", (event) => {
                    let time = timeInput.value;

                    let isValid = /^(?:[01][0-9]|2[0-3]):[0-5][0-9](?::[0-5][0-9])?$/.test(time);

                    if (!isValid)
                    {
                        timeInput.value = "00:00:00";
                    }

                });
            }
            
            function initializeSurchargeInfoRowsDeleteEvents()
            {
                const deleteButtons = document.querySelectorAll(".surchargeDeleteRowButton");
                
                if ((deleteButtons !== null) && (deleteButtons.length > 0))
                {
                    deleteButtons.forEach((deleteButton) => {
                        initializeSurchargeInfoRowsDeleteEvent(deleteButton);
                    });
                }
            }
            
            function initializeSurchargeInfoRowsDeleteEvent(deleteButton)
            {
                deleteButton.addEventListener("click", event => {
                            
                    const parentRowId = deleteButton.getAttribute("data-parent-row");

                    let row = document.querySelector(`#${parentRowId}`);

                    row.remove();

                });
            }
            
            // Surcharge Info
            const addSurchargeInfoButton = document.querySelector("#add-surcharge-button");
            const surchargeInfoRowsContent = document.querySelector("#surcharge-info-rows-content");
            
            function getSurchargeInfoRowTemplate(index)
            {
                let template = `
                <div id="sgapp-surcharge-info-row${index}" class="row sgapp-surcharge-info-row">
                    <div class="col-sm-12 col-md-2">    
                        <div class="mb-3">
                            <label for="caoSurchargeInfoTitleInput${index}" class="form-label">Title</label>
                            <input type="text" class="form-control" id="caoSurchargeInfoTitleInput${index}">
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-2">    
                        <div class="mb-3">
                            <label for="caoSurchargeInfoStartInput${index}" class="form-label">Start Time</label>
                            <div class="sgapp-timepicker-input-wrapper">
                                <input type="text" class="form-control timePicker" id="caoSurchargeInfoStartInput${index}">
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-2">    
                        <div class="mb-3">
                            <label for="caoSurchargeInfoEndTimeInput${index}" class="form-label">End Time</label>
                            <div class="sgapp-timepicker-input-wrapper">
                                <input type="text" class="form-control timePicker" id="caoSurchargeInfoEndTimeInput${index}">
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-2">    
                        <div class="mb-3">
                            <label for="caoSurchargeInfoHourlyRateInput${index}" class="form-label">Hourly Rate (As €)</label>
                            <input type="number" min="0" class="form-control" id="caoSurchargeInfoHourlyRateInput${index}">
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-2">    
                        <div class="mb-3">
                            <label for="caoSurchargeInfoWeekdaySelect${index}" class="form-label">Weekday</label>
                            <select id="caoSurchargeInfoWeekdaySelect${index}" name="caoSurchargeInfoWeekdaySelect${index}" class="sgapp-select2 form-select sgapp-select2-full">
                                <option value="-1" selected="">Select One...</option>
                                <option value="sat">Saturday</option>
                                <option value="sun">Sunday</option>
                                <option value="mon">Monday</option>
                                <option value="tue">Tuesday</option>
                                <option value="wed">Wednesday</option>
                                <option value="thr">Thursday</option>
                                <option value="fri">Friday</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-2">
                        <div class="mb-3">
                            <label class="form-label"></label>
                            <button id="surchargeDeleteRowButton${index}" class="surchargeDeleteRowButton btn btn-danger sgapp-full-width" data-parent-row="sgapp-surcharge-info-row${index}">
                                <i class="bi bi-x-lg"></i>
                            </button>
                        </div>
                    </div>
                </div>
                `;
        
                return template;
            }
            
            function htmlToElems(html)
            {
                let temp = document.createElement('template');
                temp.innerHTML = html;
                
                return temp.content;
             }
            
            addSurchargeInfoButton.addEventListener("click", event => {
                
                // Determine ID (Index)
                let index = 0;
                
                let rows = document.querySelectorAll(".sgapp-surcharge-info-row");
                
                if (rows !== null)
                {
                    index = rows.length + 1;
                }
                
                // Add a new row
                let newRow = htmlToElems(getSurchargeInfoRowTemplate(index));
                
                surchargeInfoRowsContent.append(newRow);
                
                // Initialize Events
                const startTimepicker = new TimePick(`#caoSurchargeInfoStartInput${index}`);
                const endTimepicker = new TimePick(`#caoSurchargeInfoEndTimeInput${index}`);
                
                const startTimeInputPicker = document.querySelector(`#caoSurchargeInfoStartInput${index}`);
                initializeTimePickerInputFilter(startTimeInputPicker);
                
                const endTimeInputPicker = document.querySelector(`#caoSurchargeInfoEndTimeInput${index}`);
                initializeTimePickerInputFilter(endTimeInputPicker);
                
                const deleteRowButton = document.querySelector(`#surchargeDeleteRowButton${index}`);
                initializeSurchargeInfoRowsDeleteEvent(deleteRowButton);

                setTimeValidation(`caoSurchargeInfoStartInput${index}`, `caoSurchargeInfoEndTimeInput${index}`);
            });
            
            refreshTimePickers();
            initializeSurchargeInfoRowsDeleteEvents();
            
            // Tooltip
            let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            
            let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });
             
            // Time validation
            function timeValidation(startTime, endTime, startTimeInputId, endTimeInputId)
            {
                if ((startTime.trim().length > 0) && (endTime.trim().length > 0) && startTime.includes(":") && endTime.includes(":"))
                {
                    try
                    {
                        let start = getTimeAsDecimal(startTime);
                        let end = getTimeAsDecimal(endTime);

                        if (startTime < endTime)
                        {
                            onTimeValidationSuccess(startTimeInputId, endTimeInputId);
                        }
                        else
                        {
                            onTimeValidationFailure(startTimeInputId, endTimeInputId);
                        }
                    }
                    catch (error)
                    {
                        onTimeValidationFailure(startTimeInputId, endTimeInputId);
                    }
                }
                else
                {
                    onTimeValidationFailure(startTimeInputId, endTimeInputId);
                }
            }

            function onTimeValidationSuccess(startTimeInputId, endTimeInputId)
            {
                console.log("Time format correct");
            }

            function onTimeValidationFailure(startTimeInputId, endTimeInputId)
            {
                console.log("Time format incorrect");
            }

            function getTimeAsDecimal(time)
            {
                let timeParts = time.split(":");

                let output = parseInt(timeParts[0]) + "." + timeParts[1];

                return parseFloat(output);
            }

            function setTimeValidation(startTimeInputId, endTimeInputId)
            {
                const startTimeInput = document.querySelector(`#${startTimeInputId}`);
                const endTimeInput = document.querySelector(`#${endTimeInputId}`);

                startTimeInput.addEventListener("change", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });

                startTimeInput.addEventListener("input", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });

                startTimeInput.addEventListener("click", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });

                endTimeInput.addEventListener("change", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });

                endTimeInput.addEventListener("input", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });

                endTimeInput.addEventListener("click", event => {
                    timeValidation(startTimeInput.value, endTimeInput.value, startTimeInputId, endTimeInputId);
                });
            }
        </script>

    </body>

</html>